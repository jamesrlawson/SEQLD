{
    "contents" : "library(vegan)\ndata(varespec)\ndata(varechem)\n\nstr(varechem)\nsummary(varechem)\n\nplot(varechem, gap=0, panel=panel.smooth)\n\n\n### Dune data\ndata(dune)\ndata(dune.env)\nmod0 <- rda(dune ~ 1, dune.env)  # Model with intercept only\nmod1 <- rda(dune ~ ., dune.env)  # Model with all explanatory variables\n\nordistep(mod1, scope = formula(mod1), perm.max = 200)\n\n\ndune.mod <- rda(formula = dune ~ Moisture + Management, data = dune.env)\nsummary(dune.mod)\n\nvarpart(dune, ~ Management, ~ Moisture, data = dune.env)\n\n\nstr(hydrosites[,1:34])\n\nblah <- hydrosites[,1:34]\n#blah <- alldata[,1:66]\nblah.clim <- climate[,1:19]\nblah.soil <- climate[,20:31]\n\nCWM1 <- CWM[,1:6]\n\n\nCWM.exotic <- data.frame(cbind(CWM(alltraits, abun, 1),\n                               CWM(alltraits, abun, 2),\n                               CWM(alltraits, abun, 3),\n                               CWM(alltraits, abun, 4),\n                               CWM(alltraits, abun, 5),\n                               CWM(alltraits, abun, 6)))\n\ncolnames(CWM.exotic) <- colnames(alltraits[,1:6])\n\nalldata.shortx <- data.frame(cbind(blah, blah.clim, blah.soil))\n\nblah.rda.hydro <- capscale(CWM1[,1:5] ~ CV + MDFAnnZer + CVAnnZer + MDFMDFWet +      MDFMDFDry + CVMDFWet + CVMDFDry + HSPeak + HSMeanDur + MDFAnnHSNum +      CVAnnHSNum + CVAnnHSPeak + CVAnnHSMeanDur + LSPeak + LSMeanDur +      MDFAnnLSNum + CVAnnLSNum + CVAnnLSPeak + CVAnnLSMeanDur +      MRateRise + MRateFall + CVAnnMRateRise + CVAnnMRateFall +      BFI + CVAnnBFI + PS1YrARI + PS2YrARI + PS10YrARI + C_MDFM +      M_MDFM + C_MinM + M_MinM + C_MaxM + M_MaxM + Condition(clim_dnrg + clim_isot + clim_pcld +      clim_pdmt + clim_pdry + clim_prec + clim_psea + clim_pwet +      clim_pwmt + clim_pwrm + clim_tavg + clim_tcld + clim_tdry +      clim_tmax + clim_tmin + clim_trng + clim_tsea + clim_twet +      clim_twrm + clim_dnrg + clim_isot + clim_pcld +      clim_pdmt + clim_pdry + clim_prec + clim_psea + clim_pwet +      clim_pwmt + clim_pwrm + clim_tavg + clim_tcld + clim_tdry +      clim_tmax + clim_tmin + clim_trng + clim_tsea + clim_twet +      clim_twrm ), data = alldata.shortx, distance = \"gower\")\nblah.rda.hydro1 <- capscale(CWM1 ~ CV + MDFAnnZer + CVAnnZer + MDFMDFWet +      MDFMDFDry + CVMDFWet + CVMDFDry + HSPeak + HSMeanDur + MDFAnnHSNum +      CVAnnHSNum + CVAnnHSPeak + CVAnnHSMeanDur + LSPeak + LSMeanDur +      MDFAnnLSNum + CVAnnLSNum + CVAnnLSPeak + CVAnnLSMeanDur +      MRateRise + MRateFall + CVAnnMRateRise + CVAnnMRateFall +      BFI + CVAnnBFI + PS1YrARI + PS2YrARI + PS10YrARI + C_MDFM +      M_MDFM + C_MinM + M_MinM + C_MaxM + M_MaxM, data = alldata.shortx, distance = \"gower\")\n\nblah.rda.hydro.exotic <- capscale(CWM.exotic[,1:5] ~ CV + MDFAnnZer + CVAnnZer + MDFMDFWet +      MDFMDFDry + CVMDFWet + CVMDFDry + HSPeak + HSMeanDur + MDFAnnHSNum +      CVAnnHSNum + CVAnnHSPeak + CVAnnHSMeanDur + LSPeak + LSMeanDur +      MDFAnnLSNum + CVAnnLSNum + CVAnnLSPeak + CVAnnLSMeanDur +      MRateRise + MRateFall + CVAnnMRateRise + CVAnnMRateFall +      BFI + CVAnnBFI + PS1YrARI + PS2YrARI + PS10YrARI + C_MDFM +      M_MDFM + C_MinM + M_MinM + C_MaxM + M_MaxM + Condition(clim_dnrg + clim_isot + clim_pcld +      clim_pdmt + clim_pdry + clim_prec + clim_psea + clim_pwet +      clim_pwmt + clim_pwrm + clim_tavg + clim_tcld + clim_tdry +      clim_tmax + clim_tmin + clim_trng + clim_tsea + clim_twet +      clim_twrm + clim_dnrg + clim_isot + clim_pcld +      clim_pdmt + clim_pdry + clim_prec + clim_psea + clim_pwet +      clim_pwmt + clim_pwrm + clim_tavg + clim_tcld + clim_tdry +      clim_tmax + clim_tmin + clim_trng + clim_tsea + clim_twet +      clim_twrm ), data = alldata.shortx, distance = \"gower\")\n\nsummary(blah.rda.hydro.exotic)\n\nblah.rda.clim <- capscale(CWM1 ~ clim_dnrg + clim_isot + clim_pcld +      clim_pdmt + clim_pdry + clim_prec + clim_psea + clim_pwet +      clim_pwmt + clim_pwrm + clim_tavg + clim_tcld + clim_tdry +      clim_tmax + clim_tmin + clim_trng + clim_tsea + clim_twet +      clim_twrm + clim_dnrg + clim_isot + clim_pcld +      clim_pdmt + clim_pdry + clim_prec + clim_psea + clim_pwet +      clim_pwmt + clim_pwrm + clim_tavg + clim_tcld + clim_tdry +      clim_tmax + clim_tmin + clim_trng + clim_tsea + clim_twet +      clim_twrm + Condition(CV + MDFAnnZer + CVAnnZer + MDFMDFWet +      MDFMDFDry + CVMDFWet + CVMDFDry + HSPeak + HSMeanDur + MDFAnnHSNum +      CVAnnHSNum + CVAnnHSPeak + CVAnnHSMeanDur + LSPeak + LSMeanDur +      MDFAnnLSNum + CVAnnLSNum + CVAnnLSPeak + CVAnnLSMeanDur +      MRateRise + MRateFall + CVAnnMRateRise + CVAnnMRateFall +      BFI + CVAnnBFI + PS1YrARI + PS2YrARI + PS10YrARI + C_MDFM +      M_MDFM + C_MinM + M_MinM + C_MaxM + M_MaxM + soil_awc + soil_bdw + soil_cly + soil_der +      soil_des + soil_ece + soil_nto + soil_phc + soil_pto + soil_slt +      soil_snd + soil_soc), data = alldata.shortx, distance = \"gower\")\nblah.rda.soil <- capscale(CWM1 ~ ., data = blah.soil, distance = \"gower\")\n\nsummary(blah.rda.hydro)\nsummary(blah.rda.hydro1)\nsummary(blah.rda.clim)\nsummary(blah.rda.soil)\n\n\nordistep(blah.rda3, direction =\"both\")\n\nsummary(blah.rda3)\n\nblah.rda4 <- capscale(formula = CWM1 ~ CVMDFWet + CVMDFDry + CVAnnLSNum, data = blah, distance = \"gower\")\nsummary(blah.rda4)\n\n\n# CCA, CWM1 against hydrochange, partition out hydro vars\n\nCWM.naomit <- CWM1[c(1, 4:6,9:44),]\n\nblah.rda4 <- capscale(formula = CWM.naomit ~ CV.x + MDFAnnZer + CVAnnZer + MDFMDFWet.x +      MDFMDFDry.x + CVMDFWet.x + CVMDFDry.x + HSPeak.x + HSMeanDur.x + MDFAnnHSNum.x +      CVAnnHSNum.x + CVAnnHSPeak.x + CVAnnHSMeanDur.x + LSPeak.x + LSMeanDur.x +      MDFAnnLSNum.x + CVAnnLSNum.x + CVAnnLSPeak.x + CVAnnLSMeanDur.x +      MRateRise.x + MRateFall.x + CVAnnMRateRise.x + CVAnnMRateFall.x +      BFI.x + CVAnnBFI.x + PS1YrARI.x + PS2YrARI.x + PS10YrARI.x + C_MDFM.x +      M_MDFM.x + C_MinM.x + M_MinM.x + C_MaxM.x + M_MaxM.x\n                      , data = na.omit(alldata1), distance = \"gower\")\nsummary(blah.rda4)\nordistep(blah.rda4)\n\n\nblah.cca4.small <- capscale(formula = CWM.naomit ~ MDFAnnZer + MDFMDFDry.x + CVMDFWet.x + CVMDFDry.x + HSPeak.x +\n                              HSMeanDur.x + MDFAnnHSNum.x + CVAnnHSNum.x + CVAnnHSPeak.x + CVAnnHSMeanDur.x + LSPeak.x + LSMeanDur.x +\n                              MDFAnnLSNum.x + CVAnnLSNum.x + CVAnnLSPeak.x + CVAnnLSMeanDur.x + MRateRise.x + MRateFall.x + C_MaxM.x, data =\n                              na.omit(alldata1), distance = \"gower\")\n\nblah.cca5 <- capscale(CWM.naomit ~ CV.y + MDFMDFWet.y+  MDFMDFDry.y\t+CVMDFWet.y\t+CVMDFDry.y\t+HSPeak.y\t+HSMeanDur.y\t+MDFAnnHSNum.y\t+CVAnnHSNum.y\t+CVAnnHSPeak.y\t+CVAnnHSMeanDur.y\t+LSPeak.y\t+LSMeanDur.y\t+MDFAnnLSNum.y\t+CVAnnLSNum.y\t+CVAnnLSPeak.y\t+CVAnnLSMeanDur.y\t+MRateRise.y\t+MRateFall.y\t+CVAnnMRateRise.y\t+CVAnnMRateFall.y\t+BFI.y\t+CVAnnBFI.y\t+PS1YrARI.y\t+PS2YrARI.y\t+PS10YrARI.y\t+C_MDFM.y\t+M_MDFM.y\t+C_MinM.y\t+M_MinM.y\t+C_MaxM.y\t+M_MaxM.y, data = na.omit(alldata1), distance = \"gower\")\nsummary(blah.cca5)\n\nordistep(blah.cca5)\n\nblah.cca5.small <- capscale(formula = CWM.naomit ~ CV.y + CVMDFDry.y + HSPeak.y + HSMeanDur.y + CVAnnHSNum.y + CVAnnHSPeak.y\n                            + CVAnnLSPeak.y + CVAnnLSMeanDur.y + MRateFall.y, data = na.omit(alldata1), distance = \"gower\")\nsummary(blah.cca5.small)\n\nanova(blah.cca5.small)\n\n\n##\nblah.cca5 <- capscale(CWM.naomit ~ CV.x + MDFAnnZer + CVAnnZer + MDFMDFWet.x +      MDFMDFDry.x + CVMDFWet.x + CVMDFDry.x + HSPeak.x + HSMeanDur.x + MDFAnnHSNum.x +      CVAnnHSNum.x + CVAnnHSPeak.x + CVAnnHSMeanDur.x + LSPeak.x + LSMeanDur.x +      MDFAnnLSNum.x + CVAnnLSNum.x + CVAnnLSPeak.x + CVAnnLSMeanDur.x +      MRateRise.x + MRateFall.x + CVAnnMRateRise.x + CVAnnMRateFall.x +      BFI.x + CVAnnBFI.x + PS1YrARI.x + PS2YrARI.x + PS10YrARI.x + C_MDFM.x +      M_MDFM.x + C_MinM.x + M_MinM.x + C_MaxM.x + M_MaxM.x\n                      + Condition(CV.y + CVMDFDry.y + HSPeak.y + HSMeanDur.y + CVAnnHSNum.y + CVAnnHSPeak.y\n                                  + CVAnnLSPeak.y + CVAnnLSMeanDur.y + MRateFall.y), data = na.omit(alldata1), distance = \"gower\")\n\nsummary(blah.cca5)\nanova(blah.cca5) # not significant :/\n\nplot(blah.cca5)\n\n\na <- varpart(alldata1[c(1, 4:6,9:44),]$FDis, ~C_MDFM.y + MDFAnnHSNum.y + C_MinM.y, ~ regulation, data = na.omit(alldata1))\nplot(a)\nshowvarparts(a)\n\ngetStats(alldata1, alldata1$FDis, FD)\n",
    "created" : 1432173119645.000,
    "dirty" : true,
    "encoding" : "",
    "folds" : "",
    "hash" : "2360037183",
    "id" : "9B95FC55",
    "lastKnownWriteTime" : 5642813929664822066,
    "path" : null,
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled2"
    },
    "source_on_save" : false,
    "type" : "r_source"
}